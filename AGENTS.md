# Repository Guidelines

## 项目结构与组织方式

- `README.md`：章节索引与外链入口（新增/改名章节需同步更新）。
- 章节目录：`01.*`、`02.*` …（按序号组织的并发专题文章），通常包含 1 篇主文档 `*.md` + 配图（`.png`）。
- `labs/`：可运行示例（按章节存放最小可运行实验，见 `labs/README.md`）。
- `plan.md`：学习/教学计划（章节节奏、复盘模板、Codex 提示词模板）。
- `.idea/`：IDE 工程文件（非必要不改动）。

## 学习与开发约定（JDK 21）

本仓库以文档 + 实验为主，无 Maven/Gradle 依赖；示例默认面向 **JDK 21**。

- 运行前确认版本：`java -version`
- 编译/运行实验（示例）：`cd labs/01-concurrency-pros-cons; javac *.java; java ConcurrencyBenefits ...`
- 提交前自检：`git status`、`git diff`；并在 GitHub 上确认 Markdown/图片可渲染

## 写作规范与命名约定

- 使用 Markdown 标题层级（`#`/`##`/`###`），段落保持简短、要点明确。
- 文件名/目录名尽量保持稳定（重命名会影响外部引用与历史链接）。
- 图片优先使用相对路径，确保仓库内可渲染：`![各种锁对比](./各种锁的对比.png)`
- 新增章节遵循编号递增与命名模式：目录 `28.<标题>`；保持“单主文档”原则，避免同章多份 “v2/final”。
- 新增实验遵循：`labs/NN-<slug>/`（一个实验尽量只验证一个结论），并在该目录 `README.md` 写清楚“如何跑、看什么、如何复盘”。

## 验证与复盘

- 仓库没有自动化测试；以“可读性 + 可渲染性 + 可复现”为准。
- 文档：确认链接可点击、图片可显示、`README.md` 索引准确。
- 实验：输出应包含关键参数、正确性校验与耗时，便于复盘与对比。

## 提交与 PR 约定

- 提交尽量小而聚焦；历史中既有中文消息，也有 `fix:` 这类前缀。
- 推荐格式（非强制）：`docs: <主题>` / `fix: <问题>` / `chore: <杂项>`
- PR 需说明：改动目的、影响的章节目录；仅在修改配图时附截图对比。

## 面向 Agent 的说明

- 未经明确要求，不调整章节编号/目录结构。
- 修改文章尽量增量改进（补充/修正），避免大段重写导致链接与语义漂移。
- 新增内容优先落地为：章节文档 + 对应 `labs/` 最小实验 + 复盘要点（参考 `plan.md`）。
